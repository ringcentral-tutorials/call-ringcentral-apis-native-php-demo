<!DOCTYPE html><html><head><title>Access RingCentral platform services using PHP native API.- RingCentral Developer Tutorials</title><style>body, html {
  height:100%;
  width:100%;
  padding:0;
  margin:0;
  overflow:hidden;
  background-color:#ddd;
}
.wrapper {
  height:100%;
  width:100%;
}</style><link rel="shortcut icon" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="apple-touch-icon" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="apple-touch-icon" sizes="72x72" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="apple-touch-icon" sizes="114x114" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/jquery-ui@1.12.1/themes/base/all.css"><link rel="stylesheet" href="viewsaurus.css"></head><body><div class="wrapper"><div class="dpw-header-container"><div class="dpw-header center-section"><div class="logo"><a href="https://developers.ringcentral.com" class="logo-link"></a></div><div class="nav-top-menus"></div><div class="dpw-login-section"><a href="https://developer.ringcentral.com/login.html#/">Sign in | Sign up</a></div></div></div><div id="viewsaurus" data-title="Access RingCentral platform services using PHP native API."><div class="saurus-panes"><div class="saurus-panes-header"><a href="https://ringcentral.github.io/tutorials/" class="saurus-back-to-tutorials">Tutorials</a><span>&gt;</span><span>Access RingCentral platform services using PHP native API.</span></div><div class="saurus-prose"><div class="saurus-nav-buttons"><div class="saurus-nav-button nav-overview"><div class="saurus-nav-button-inner"><i class="fa fa-fw icon-menu"></i></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-previous"><div class="saurus-nav-button-inner"><a href=""> <i class="fa fa-fw fa-play fa-rotate-180"></i></a></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-next clickable"><div class="saurus-nav-button-inner"><a href="#1"> <i class="fa fa-fw fa-play"></i></a></div></div><div class="saurus-next-title"><span class="next-title-inner"></span></div></div><div class="saurus-progress-bar"></div><div class="saurus-start"><p>In this step-by-step tutorial, you are going to learn how to authenticate and access RingCentral platform services using PHP native API. Click the &quot;Start&quot; button below to start the tutorial.</p><a href="#0">Start Tutorial</a></div><div class="saurus-content"><div data-title="Access RingCentral platform services using PHP native API" class="chapter"><div data-title="Clone and Setup the project" data-file="../README.md" data-highlight="10-20" class="step"><h3 id="clone-and-setup-the-project">Clone and Setup the project</h3>
<p>Clone the project from GitHub and install the <code>dotenv</code> module.</p>
</div><div data-title="Create a RingCentral app" data-file="../README.md" data-highlight="25-28" class="step"><h3>Create a RingCentral app</h3><p>If you don't know how to create a RingCentral app. Click <a href="https://developer.ringcentral.com/library/getting-started.html">here</a> for instructions.</p></div><div data-title="Set Environment Variables" data-file="../environment/dotenv-sandbox" class="step"><h3 id="set-environment-variables">Set Environment Variables</h3>
<p>Copy the Client id and Client secret and add them to the <code>.env-sandbox</code> file.</p>
<pre><code>RC_CLIENT_ID=
RC_CLIENT_SECRET=
</code></pre><p>Add the account login credentials to the <code>.env-sandbox</code> file.</p>
<pre><code>RC_USERNAME=
RC_PASSWORD=
RC_EXTENSION=
</code></pre><p>If you want to specify variables for your production environment, repeat this step for the <code>.env-production</code> file.</p>
</div><div data-title="Getting started" data-file="../ringcentral.php" data-highlight="1-2" class="step"><h3 id="getting-started">Getting started</h3>
<p>Let&#39;s start by creating a file named <code>ringcentral.php</code> and include dependent libraries.</p>
</div><div data-title="Load the environment variables" data-file="../ringcentral.php" data-highlight="4-17" class="step"><h3 id="load-the-environment-variables">Load the environment variables</h3>
<p>Read the ENVIRONMENT value from the <code>.env</code> file and load the <code>.env-sandbox</code> or <code>.env-production</code> accordingly.</p>
<h3 id="specify-a-txt-file-to-keep-the-authentication-data">Specify a .txt file to keep the authentication data</h3>
<p>For the sandbox environment, we save the data to the <code>tokens_sb.txt</code>.</p>
<p>For the production environment, we save the data to the <code>tokens_pd.txt</code>.</p>
<p>In your real application, you may want to keep the authentication data in a database. Or keep the file in a hidden place because it contains the access token and the refresh token!</p>
</div><div data-title="Create a reusable class" data-file="../ringcentral.php" data-highlight="19-21" class="step"><h3 id="create-a-reusable-class">Create a reusable class</h3>
<p>To make this tutorial code reusable and extensible, we define the <code>RingCentral</code> class and implement a few utility functions.</p>
<pre><code>authenticate()
get()
post()
</code></pre></div><div data-title="Implement authentication - 1" data-file="../ringcentral.php" data-highlight="23-36" class="step"><h3 id="implement-authentication-1">Implement authentication - 1</h3>
<p>Let&#39;s implement the <code>authenticate()</code> function to handle platform authentication.</p>
<p>1) Specify the <code>$url</code> variable by adding the <code>/restapi/oauth/token</code> endpoint to the platform server URL we defined in the configuration .env-[environment] file.</p>
<p>2) Specify the <code>$basic</code> authorization string by joining the client Id with the client secret separated by a colon &quot;:&quot;.</p>
<p>3) Define the <code>$headers</code> variable with the <code>Content-Type</code>, <code>Accept</code> and <code>Authorization</code> for the basic auth scheme.</p>
<p>4) Define the <code>$body</code> object with the <code>grant_type</code>, <code>username</code> and <code>password</code>. We encode the body for just in the case the username is an email address which has special characters.</p>
</div><div data-title="Implement authentication - 2" data-file="../ringcentral.php" data-highlight="56-87" class="step"><h3 id="implement-authentication-2">Implement authentication - 2</h3>
<p>1) Set curl options and use the POST method to send the authentication request.</p>
<p>2) Handle <code>$curlError</code> and check the <code>$httpCode</code>. If the <code>$httpCode</code> is 200, we decode the <code>$strResponse</code> to create a JSON object <code>$jsonObj</code>.</p>
<p>3) Define a <code>$tokensObj</code> variable and assign the <code>$jsonObj</code> to the &quot;tokens&quot; key/value pair. We also create the current timestamp and assign it to the &quot;timestamp&quot; key/value pair.</p>
<p>4) Save the <code>$tokensObj</code> into a local file. I will discuss about how to use the file in the next step.</p>
<p>5) Extract the <code>access_token</code> from the <code>$jsonObj</code> and keep the token in the class <code>$this-&gt;access_token</code> variable.</p>
</div><div data-title="Implement authentication - 3" data-file="../ringcentral.php" data-highlight="37-54" class="step"><h3 id="implement-authentication-3">Implement authentication - 3</h3>
<p>We can avoid posting an authentication request every time we need access to the platform by checking if the access token is still valid.</p>
<p>To do that, we check the existence of the <code>$tokens_file</code> file.</p>
<p>If the file exists, we read the file content and specify the <code>$expire_time</code> variable by subtracting the <code>$tokensObj-&gt;timestamp</code> from the current time. Then compare the <code>$expire_time</code> with the access token expiration time <code>$tokensObj-&gt;tokens-&gt;expires_in</code>.</p>
<p>If the <code>$expire_time</code> is less than the <code>$tokensObj-&gt;tokens-&gt;token_expires_in</code>, it means that the access token is still valid. So we save the <code>$tokensObj-&gt;tokens-&gt;access_token</code> to the class <code>$this-&gt;access_token</code>.</p>
<p>If the <code>$expire_time</code> is greater than the access token expiration time, it means that the access token has expired. So we move on to compare the <code>$expire_time</code> with the refresh token expiration time <code>$tokensObj-&gt;tokens-&gt;refresh_token_expires_in</code>.</p>
<p>If  the <code>$expire_time</code> is less than the <code>$tokensObj-&gt;tokens-&gt;refresh_token_expires_in</code>, it means that the  refresh token is still valid. So we can use it to request for a new access token. In this case, we redefine the <code>$body</code> with the <code>grant_type</code> value is &quot;refresh_token&quot;, and the <code>refresh_token</code> value is the actual refresh token read from the local file. Then we proceed to call the post request as discussed in the previous step.</p>
<p>If the <code>$tokens_file</code> does not exist, we proceed the authentication as discussed in the previous step.</p>
</div><div data-title="GET request implementation" data-file="../ringcentral.php" data-highlight="89-126" class="step"><h3 id="get-request-implementation">GET request implementation</h3>
<p>Now we implement the <code>get()</code> function to handle HTTP GET requests:</p>
<p>1) Call the <code>authenticate()</code> function to handle the authentication and get the access token.</p>
<p>2) Specify the <code>$url</code> variable by adding the <code>$endpoint</code> to the platform server URL we defined in the configuration .env-[environment] file.</p>
<p>3) Call the http_build_query() function to build query parameters from the <code>$params</code> then add it to the <code>$url</code>.</p>
<p>4) Define the <code>$headers</code> variable with the &quot;Accept&quot; and &quot;Authorization&quot; key/value pairs with the &quot;Authorization&quot; scheme is &quot;Bearer&quot; followed by the access token.</p>
<p>5) Set curl options and send the GET request to RingCentral platform.</p>
<p>6) Handle <code>$curlError</code> and check the <code>$httpCode</code> then return the <code>$strResponse</code>.</p>
</div><div data-title="POST request implementation" data-file="../ringcentral.php" data-highlight="128-169" class="step"><h3 id="post-request-implementation">POST request implementation</h3>
<p>Now we implement the <code>post</code> function to handle HTTP POST requests</p>
<p>1) Call the <code>authenticate()</code> function to handle the authentication and get the access token.</p>
<p>2) Specify the <code>$url</code> variable by adding the <code>$endpoint</code> to the platform server URL we defined in the configuration .env-[environment] file.</p>
<p>3) Define the <code>$body</code> variable and set the <code>$params</code> as its value.</p>
<p>4) Define the <code>$headers</code> variable with the &quot;Content-Type&quot;, &quot;Accept&quot; and &quot;Authorization&quot; key/value pairs  with the &quot;Authorization&quot; scheme is &quot;Bearer&quot; followed by the access token.</p>
<p>5) Set curl options and send the POST request to RingCentral platform.</p>
<p>6) Handle <code>$curlError</code> and check the <code>$httpCode</code> then return the <code>$strResponse</code>.</p>
</div><div data-title="Call RingCentral Platform APIs" data-file="../demo.php" data-highlight="1-36" class="step"><h3 id="call-ringcentral-platform-apis">Call RingCentral Platform APIs</h3>
<p>Now let&#39;s create a file named <code>demo.php</code> and use the <code>RingCentral</code> class as shown in the demo code on the right-hand side.</p>
<p>In this demo, we implement 2 test functions:</p>
<p><code>get_account_extension()</code>:</p>
<p>We use the <code>get()</code> function from the RingCentral class to get account extensions&#39; information and print them out on the console.</p>
<p><code>send_sms()</code>:</p>
<p>We use the <code>post()</code> function from the RingCentral class to send an SMS message to a <code>recipientNumber</code> and print the response out on the console.</p>
<h3 id="run-the-demo-app-">Run the demo app.</h3>
<pre><code>$ php demo.php
</code></pre><p>You can further develop the RingCentral class to add PUT and DELETE methods as you wish.</p>
</div></div>
<div class="saurus-files" style="display:none;"><textarea class="saurus-file" data-file="../README.md" data-mode="markdown">IyMjIE92ZXJ2aWV3CkhvdyB0byBhdXRoZW50aWNhdGUgYW5kIGFjY2VzcyBSaW5nQ2VudHJhbCBwbGF0Zm9ybSBzZXJ2aWNlcyB1c2luZyBQSFAgbmF0aXZlIEFQSS4KCiMjIyBSaW5nQ2VudHJhbCBQbGF0Zm9ybQpSaW5nQ2VudHJhbCBQbGF0Zm9ybSBpcyBhIHJpY2ggUkVTVGZ1bCBBUEkgcGxhdGZvcm0gd2l0aCBtb3JlIHRoYW4gNjAgQVBJcyBmb3IgYnVzaW5lc3MgY29tbXVuaWNhdGlvbiBpbmNsdWRlcyBhZHZhbmNlZCB2b2ljZSBjYWxscywgY2hhdCBtZXNzYWdpbmcsIFNNUy9NTVMgYW5kIEZheC4KCgojIyMgQ2xvbmUgYW5kIFNldHVwIHRoZSBwcm9qZWN0CmBgYAokIGdpdCBjbG9uZSBodHRwczovL2dpdGh1Yi5jb20vcmluZ2NlbnRyYWwtdHV0b3JpYWxzL2NhbGwtcmluZ2NlbnRyYWwtYXBpcy1uYXRpdmUtcGhwLWRlbW8KCiQgY2QgY2FsbC1yaW5nY2VudHJhbC1hcGlzLW5hdGl2ZS1waHAtZGVtbwoKJCBjdXJsIC1zUyBodHRwczovL2dldGNvbXBvc2VyLm9yZy9pbnN0YWxsZXIgfCBwaHAKCiQgcGhwIGNvbXBvc2VyLnBoYXIgaW5zdGFsbAoKJCBjcCBlbnZpcm9ubWVudC9kb3RlbnYtc2FuZGJveCBlbnZpcm9ubWVudC8uZW52LXNhbmRib3gKCiQgY3AgZW52aXJvbm1lbnQvZG90ZW52LXByb2R1Y3Rpb24gZW52aXJvbm1lbnQvLmVudi1wcm9kdWN0aW9uCgpgYGAKCiMjIyBDcmVhdGUgYW4gYXBwCiogQ3JlYXRlIGFuIGFwcGxpY2F0aW9uIGF0IFtSaW5nQ2VudHJhbCBEZXZlbG9wZXIgUG9ydGFsXShodHRwczovL2RldmVsb3Blci5yaW5nY2VudHJhbC5jb20pLgoqIFNlbGVjdCBgU2VydmVyLW9ubHkgKE5vIFVJKWAgZm9yIHRoZSBQbGF0Zm9ybSB0eXBlLgoqIEFkZCB0aGUgYFJlYWRBY2NvdW50c2AgYW5kIGBTTVNgIHBlcm1pc3Npb25zIGZvciB0aGUgYXBwLgoqIENvcHkgdGhlIENsaWVudCBpZCBhbmQgQ2xpZW50IHNlY3JldCBhbmQgYWRkIHRoZW0gdG8gdGhlIGAuZW52LVtlbnZpcm9ubWVudF1gIGZpbGUuCmBgYApSQ19DTElFTlRfSUQ9ClJDX0NMSUVOVF9TRUNSRVQ9CmBgYAoqIEFkZCB0aGUgYWNjb3VudCBsb2dpbiBjcmVkZW50aWFscyB0byB0aGUgYC5lbnYtW2Vudmlyb25tZW50XWAgZmlsZS4KYGBgClJDX1VTRVJOQU1FPQpSQ19QQVNTV09SRD0KUkNfRVhURU5TSU9OPQpgYGAKSWYgeW91IGRvbid0IGtub3cgaG93IHRvIGNyZWF0ZSBhIFJpbmdDZW50cmFsIGFwcC4gQ2xpY2sgW2h0dHBzOi8vZGV2ZWxvcGVyLnJpbmdjZW50cmFsLmNvbS9saWJyYXJ5L2dldHRpbmctc3RhcnRlZC5odG1sXShoZXJlKSBmb3IgaW5zdHJ1Y3Rpb25zLgoKIyMjIFJ1biB0aGUgZGVtbwpTZXQgYEVOVklST05NRU5UPXNhbmRib3hgIGluIHRoZSBgLmVudmAgZmlsZSB0byBydW4gaW4gdGhlIHNhbmRib3ggZW52aXJvbm1lbnQuCgpTZXQgYEVOVklST05NRU5UPXByb2R1Y3Rpb25gIGluIHRoZSBgLmVudmAgZmlsZSB0byBydW4gaW4gdGhlIHByb2R1Y3Rpb24gZW52aXJvbm1lbnQuCgpgYGAKJCBwaHAgZGVtby5waHAKYGBgCgojIyMgUmluZ0NlbnRyYWwgRGV2ZWxvcGVyIFBvcnRhbApUbyBzZXR1cCBhIGZyZWUgZGV2ZWxvcGVyIGFjY291bnQsIGNsaWNrIFtoZXJlXShodHRwczovL2RldmVsb3Blci9yaW5nY2VudHJhbC5jb20pCg==</textarea>
<textarea class="saurus-file" data-file="../environment/dotenv-sandbox" data-mode="text">UkNfU0VSVkVSX1VSTD1odHRwczovL3BsYXRmb3JtLmRldnRlc3QucmluZ2NlbnRyYWwuY29tClJDX0NMSUVOVF9JRD0KUkNfQ0xJRU5UX1NFQ1JFVD0KUkNfVVNFUk5BTUU9ClJDX1BBU1NXT1JEPQpSQ19FWFRFTlNJT049ClJDX1JFRElSRUNUX1VSTD0K</textarea>
<textarea class="saurus-file" data-file="../ringcentral.php" data-mode="php">PD9waHAKcmVxdWlyZV9vbmNlKCd2ZW5kb3IvYXV0b2xvYWQucGhwJyk7CgokZG90ZW52ID0gbmV3IERvdGVudlxEb3RlbnYoX19ESVJfXyk7CiRkb3RlbnYtPmxvYWQoKTsKCiRlbnZfZmlsZSA9ICIuL2Vudmlyb25tZW50LyI7CiR0b2tlbnNfZmlsZSA9ICJ0b2tlbnNfIjsKaWYgKGdldGVudignRU5WSVJPTk1FTlQnKSA9PSAic2FuZGJveCIpewogICAkZW52X2ZpbGUgLj0gIi5lbnYtc2FuZGJveCI7CiAgICR0b2tlbnNfZmlsZSAuPSAic2IudHh0IjsKfWVsc2V7CiAgJGVudl9maWxlIC49ICIuZW52LXByb2R1Y3Rpb24iOwogICR0b2tlbnNfZmlsZSAuPSAicGQudHh0IjsKfQokZG90ZW52ID0gbmV3IERvdGVudlxEb3RlbnYoX19ESVJfXywgJGVudl9maWxlKTsKJGRvdGVudi0+bG9hZCgpOwoKY2xhc3MgUmluZ0NlbnRyYWwgewogICAgcHJpdmF0ZSAkYWNjZXNzX3Rva2VuID0gIiI7CiAgICBmdW5jdGlvbiBfX2NvbnN0cnVjdCgpIHt9CgogICAgcHVibGljIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZSgpewogICAgICAgIGdsb2JhbCAkdG9rZW5zX2ZpbGU7CiAgICAgICAgJHVybCA9IGdldGVudigiUkNfU0VSVkVSX1VSTCIpIC4gIi9yZXN0YXBpL29hdXRoL3Rva2VuIjsKICAgICAgICAkYmFzaWMgPSBnZXRlbnYoIlJDX0NMSUVOVF9JRCIpIC4iOiIuIGdldGVudigiUkNfQ0xJRU5UX1NFQ1JFVCIpOwogICAgICAgICRoZWFkZXJzID0gYXJyYXkgKAogICAgICAgICAgICAnQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgnLAogICAgICAgICAgICAnQWNjZXB0OiBhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICAgJ0F1dGhvcml6YXRpb246IEJhc2ljICcgLiBiYXNlNjRfZW5jb2RlKCRiYXNpYykKICAgICAgICAgICk7CiAgICAgICAgJGJvZHkgPSBodHRwX2J1aWxkX3F1ZXJ5KGFycmF5ICgKICAgICAgICAgICAgJ2dyYW50X3R5cGUnID0+ICdwYXNzd29yZCcsCiAgICAgICAgICAgICd1c2VybmFtZScgPT4gdXJsZW5jb2RlKGdldGVudigiUkNfVVNFUk5BTUUiKSksCiAgICAgICAgICAgICdwYXNzd29yZCcgPT4gZ2V0ZW52KCJSQ19QQVNTV09SRCIpCiAgICAgICAgICApKTsKICAgICAgICBpZiAoZmlsZV9leGlzdHMoJHRva2Vuc19maWxlKSl7CiAgICAgICAgICAgICRzYXZlZF90b2tlbnMgPSBmaWxlX2dldF9jb250ZW50cygkdG9rZW5zX2ZpbGUpOwogICAgICAgICAgICAkdG9rZW5zT2JqID0ganNvbl9kZWNvZGUoJHNhdmVkX3Rva2Vucyk7CiAgICAgICAgICAgICRkYXRlID0gbmV3IERhdGVUaW1lKCk7CiAgICAgICAgICAgICRleHBpcmVfdGltZT0gJGRhdGUtPmdldFRpbWVzdGFtcCgpIC0gJHRva2Vuc09iai0+dGltZXN0YW1wOwogICAgICAgICAgICBpZiAoJGV4cGlyZV90aW1lIDwgJHRva2Vuc09iai0+dG9rZW5zLT5leHBpcmVzX2luKXsKICAgICAgICAgICAgICBwcmludCAiQWNjZXNzIHRva2VuIGlzIHN0aWxsIHZhbGlkLlxyXG4iOwogICAgICAgICAgICAgICR0aGlzLT5hY2Nlc3NfdG9rZW4gPSAkdG9rZW5zT2JqLT50b2tlbnMtPmFjY2Vzc190b2tlbjsKICAgICAgICAgICAgfWVsc2UgaWYgKCRleHBpcmVfdGltZSA8ICAkdG9rZW5zT2JqLT50b2tlbnMtPnJlZnJlc2hfdG9rZW5fZXhwaXJlc19pbikgewogICAgICAgICAgICAgICAgcHJpbnQgInJlZnJlc2hfdG9rZW4gbm90IGV4cGlyZWQuIEdldCBhY2Nlc3MgdG9rZW4gdXNpbmcgdGhlIHJlZnJlc2ggdG9rZW4uXHJcbiI7CiAgICAgICAgICAgICAgICAkYm9keSA9IGh0dHBfYnVpbGRfcXVlcnkoYXJyYXkgKAogICAgICAgICAgICAgICAgICAnZ3JhbnRfdHlwZScgPT4gJ3JlZnJlc2hfdG9rZW4nLAogICAgICAgICAgICAgICAgICAncmVmcmVzaF90b2tlbicgPT4gJHRva2Vuc09iai0+dG9rZW5zLT5yZWZyZXNoX3Rva2VuCiAgICAgICAgICAgICAgICApKTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBwcmludCAicmVmcmVzaF90b2tlbiBleHBpcmVkLiBNb3ZlIG9uIHRvIGxvZ2luIG5vcm1hbGx5LlxyXG4iOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB0cnkgewogICAgICAgICAgICAkY2ggPSBjdXJsX2luaXQoJHVybCk7CiAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9IVFRQSEVBREVSLCAkaGVhZGVycyk7CiAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9QT1NULCBUUlVFKTsKICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLCBUUlVFKTsKICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1NTTF9WRVJJRllIT1NULCAwKTsKICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1RJTUVPVVQsIDYwMCk7CiAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9QT1NURklFTERTLCAkYm9keSk7CgogICAgICAgICAgICAkc3RyUmVzcG9uc2UgPSBjdXJsX2V4ZWMoJGNoKTsKICAgICAgICAgICAgJGN1cmxFcnJubyA9IGN1cmxfZXJybm8oJGNoKTsKICAgICAgICAgICAgaWYgKCRjdXJsRXJybm8pIHsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJGN1cmxFcnJubyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkaHR0cENvZGUgPSBjdXJsX2dldGluZm8oJGNoLCBDVVJMSU5GT19IVFRQX0NPREUpOwogICAgICAgICAgICAgICAgY3VybF9jbG9zZSgkY2gpOwoJICAgICAgICAgICAgICBpZiAoJGh0dHBDb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICRkYXRlID0gbmV3IERhdGVUaW1lKCk7CiAgICAgICAgICAgICAgICAgICAgJGpzb25PYmogPSBqc29uX2RlY29kZSgkc3RyUmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICR0b2tlbnNPYmogPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICJ0b2tlbnMiID0+ICRqc29uT2JqLAogICAgICAgICAgICAgICAgICAgICAgInRpbWVzdGFtcCIgPT4gJGRhdGUtPmdldFRpbWVzdGFtcCgpCiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICBmaWxlX3B1dF9jb250ZW50cygkdG9rZW5zX2ZpbGUsIGpzb25fZW5jb2RlKCR0b2tlbnNPYmosIEpTT05fUFJFVFRZX1BSSU5UKSk7CiAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmFjY2Vzc190b2tlbiA9ICRqc29uT2JqLT5hY2Nlc3NfdG9rZW47CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCRzdHJSZXNwb25zZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKICAgICAgICAgICAgdGhyb3cgJGU7CiAgICAgICAgfQogICAgfQogICAgcHVibGljIGZ1bmN0aW9uIGdldCgkZW5kcG9pbnQsICRwYXJhbXM9bnVsbCwgJGNhbGxiYWNrPSIiKXsKICAgICAgICB0cnkgewogICAgICAgICAgICAkdGhpcy0+YXV0aGVudGljYXRlKCk7CiAgICAgICAgICAgICR1cmwgPSBnZXRlbnYoIlJDX1NFUlZFUl9VUkwiKSAuICRlbmRwb2ludDsKICAgICAgICAgICAgaWYgKCRwYXJhbXMgIT0gbnVsbCkKICAgICAgICAgICAgICAkdXJsIC49ICI/Ii5odHRwX2J1aWxkX3F1ZXJ5KCRwYXJhbXMpOwogICAgICAgICAgICAkaGVhZGVycyA9IGFycmF5ICgKICAgICAgICAgICAgICAgICAgJ0FjY2VwdDogYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uOiBCZWFyZXIgJyAuICR0aGlzLT5hY2Nlc3NfdG9rZW4KICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAkY2ggPSBjdXJsX2luaXQoJHVybCk7CiAgICAgICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfSFRUUEhFQURFUiwgJGhlYWRlcnMpOwogICAgICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0hUVFBHRVQsIFRSVUUpOwogICAgICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLCBUUlVFKTsKICAgICAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9TU0xfVkVSSUZZSE9TVCwgMCk7CiAgICAgICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVElNRU9VVCwgNjAwKTsKCiAgICAgICAgICAgICAgICAkc3RyUmVzcG9uc2UgPSBjdXJsX2V4ZWMoJGNoKTsKICAgICAgICAgICAgICAgICRjdXJsRXJybm8gPSBjdXJsX2Vycm5vKCRjaCk7CiAgICAgICAgICAgICAgICBpZiAoJGN1cmxFcnJubykgewogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJGVjdXJsRXJyb3IpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkaHR0cENvZGUgPSBjdXJsX2dldGluZm8oJGNoLCBDVVJMSU5GT19IVFRQX0NPREUpOwogICAgICAgICAgICAgICAgICAgIGN1cmxfY2xvc2UoJGNoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoJGh0dHBDb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgkY2FsbGJhY2sgPT0gIiIpID8gJHN0clJlc3BvbnNlIDogJGNhbGxiYWNrKCRzdHJSZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJHN0clJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewogICAgICAgICAgICAgICAgdGhyb3cgJGU7CiAgICAgICAgICAgIH0KICAgICAgICB9Y2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewogICAgICAgICAgICB0aHJvdyAkZTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIHBvc3QoJGVuZHBvaW50LCAkcGFyYW1zPW51bGwsICRjYWxsYmFjaz0iIil7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgJHRoaXMtPmF1dGhlbnRpY2F0ZSgpOwogICAgICAgICAgICAkdXJsID0gZ2V0ZW52KCJSQ19TRVJWRVJfVVJMIikgLiAkZW5kcG9pbnQ7CiAgICAgICAgICAgICRib2R5ID0gYXJyYXkoKTsKICAgICAgICAgICAgaWYgKCRwYXJhbXMgIT0gbnVsbCkKICAgICAgICAgICAgICAgICRib2R5ID0ganNvbl9lbmNvZGUoJHBhcmFtcyk7CgogICAgICAgICAgICAkaGVhZGVycyA9IGFycmF5ICgKICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAgICAgICAgICdBY2NlcHQ6IGFwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbjogQmVhcmVyICcgLiAkdGhpcy0+YWNjZXNzX3Rva2VuCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJGNoID0gY3VybF9pbml0KCR1cmwpOwogICAgICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0hUVFBIRUFERVIsICRoZWFkZXJzKTsKICAgICAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9QT1NULCBUUlVFKTsKICAgICAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiwgVFJVRSk7CiAgICAgICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfU1NMX1ZFUklGWUhPU1QsIDApOwogICAgICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1RJTUVPVVQsIDYwMCk7CiAgICAgICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUE9TVEZJRUxEUywgJGJvZHkpOwoKICAgICAgICAgICAgICAgICRzdHJSZXNwb25zZSA9IGN1cmxfZXhlYygkY2gpOwogICAgICAgICAgICAgICAgJGN1cmxFcnJubyA9IGN1cmxfZXJybm8oJGNoKTsKICAgICAgICAgICAgICAgIGlmICgkY3VybEVycm5vKSB7CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbigkY3VybEVycm5vKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJGh0dHBDb2RlID0gY3VybF9nZXRpbmZvKCRjaCwgQ1VSTElORk9fSFRUUF9DT0RFKTsKICAgICAgICAgICAgICAgICAgICBjdXJsX2Nsb3NlKCRjaCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKCRodHRwQ29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgkY2FsbGJhY2sgPT0gIiIpID8gJHN0clJlc3BvbnNlIDogJGNhbGxiYWNrKCRzdHJSZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJHN0clJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH1jYXRjaCAoRXhjZXB0aW9uICRlKSB7CiAgICAgICAgICAgICAgICB0aHJvdyAkZTsKICAgICAgICAgICAgfQogICAgICAgIH1jYXRjaCAoRXhjZXB0aW9uICRlKSB7CiAgICAgICAgICAgIHRocm93ICRlOwogICAgICAgIH0KICAgIH0KfQo=</textarea>
<textarea class="saurus-file" data-file="../demo.php" data-mode="php">PD9waHAKaW5jbHVkZSgncmluZ2NlbnRyYWwucGhwJyk7CgokcmMgPSBuZXcgUmluZ0NlbnRyYWwoKTsKCmZ1bmN0aW9uIGNhbGxiYWNrKCRyZXNwb25zZSl7CiAgICBwcmludCAkcmVzcG9uc2UuIlxyXG4iOwp9CgpmdW5jdGlvbiBnZXRfYWNjb3VudF9leHRlbnNpb24oKSB7CiAgICBnbG9iYWwgJHJjOwogICAgdHJ5ewogICAgICAgICRlbmRwb2ludCA9ICIvcmVzdGFwaS92MS4wL2FjY291bnQvfi9leHRlbnNpb24iOwogICAgICAgICRwYXJhbXMgPSBhcnJheSgnc3RhdHVzJyA9PiAnRW5hYmxlZCcpOwogICAgICAgICRyYy0+Z2V0KCRlbmRwb2ludCwgJHBhcmFtcywgJ2NhbGxiYWNrJyk7CiAgICB9Y2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewogICAgICAgIHByaW50ICRlLT5nZXRNZXNzYWdlKCk7CiAgICB9Cn0KCmZ1bmN0aW9uIHNlbmRfc21zKCRyZWNpcGllbnROdW1iZXIsICRtZXNzYWdlKXsKICAgIGdsb2JhbCAkcmM7CiAgICB0cnl7CiAgICAgICAgJGVuZHBvaW50ID0gIi9yZXN0YXBpL3YxLjAvYWNjb3VudC9+L2V4dGVuc2lvbi9+L3NtcyI7CiAgICAgICAgJHBhcmFtcyA9IGFycmF5KCdmcm9tJyA9PiBhcnJheSgncGhvbmVOdW1iZXInID0+IGdldGVudigiUkNfVVNFUk5BTUUiKSksCiAgICAgICAgICAgICAgICAgICAgICAgICd0bycgPT4gYXJyYXkoYXJyYXkoJ3Bob25lTnVtYmVyJyA9PiAkcmVjaXBpZW50TnVtYmVyKSksCiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0JyA9PiAkbWVzc2FnZQogICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAkcmMtPnBvc3QoJGVuZHBvaW50LCAkcGFyYW1zLCAnY2FsbGJhY2snKTsKICAgIH1jYXRjaCAoRXhjZXB0aW9uICRlKSB7CiAgICAgICAgcHJpbnQgJGUtPmdldE1lc3NhZ2UoKTsKICAgIH0KfQoKZ2V0X2FjY291bnRfZXh0ZW5zaW9uKCk7Ci8vc2VuZF9zbXMoJ3JlY2lwaWVudE51bWJlcicsICJIZWxsbyBXb3JsZCEiKTsK</textarea>
</div>
</div><div class="saurus-overview"><ul></ul></div></div><div class="saurus-code"><div class="file-path"><span class="crumb-container"></span><i class="fa fa-fw fa-folder"></i></div><div class="saurus-editor"></div></div><div class="saurus-explorer"><div class="saurus-file-list"></div><div class="saurus-file-actions"><a href="https://github.com/https://github.com/ringcentral-tutorials/call-ringcentral-apis-native-php-demo" target="_blank" class="explorer-get-code"><i class="fa fa-lg fa-github-square"></i>View Code on GitHub</a><a href="https://github.com/https://github.com/ringcentral-tutorials/call-ringcentral-apis-native-php-demo/archive/master.zip" target="_blank" class="explorer-get-code"><i class="fa fa-lg icon-download"></i>Download Source Code</a></div></div></div></div><footer><div class="footer-content"><div class="footer-content-row layout-2-cols"><div class="footer-content-row-left"><div class="footer-logo"><a href="http://www.ringcentral.com"><span>Back to the main site</span></a></div></div><div class="footer-content-row-right"><ul class="footer-text-links"><li><a href="http://www.ringcentral.com/legal.html" target="_blank"><span>Legal</span></a></li><li><a href="http://www.ringcentral.com/security-statement.html" target="_blank"><span>Security Policy</span></a></li><li><a href="http://www.ringcentral.com/legal/privacy-policy.html" target="_blank"><span>Privacy Policy</span></a></li><li><a ng-href="https://devcommunity.ringcentral.com" target="_blank" href="https://devcommunity.ringcentral.com"><span>Community</span></a></li><li><a href="https://medium.com/ringcentral-developers" target="_blank"><span>Blog</span></a></li></ul></div></div><div class="footer-content-row footer-content-row-last layout-2-cols"><div class="footer-content-row-left"><span class="footer-copyright">© 1999-<span ng-bind="::main.nowObj|date:'yyyy'" class="footer-copyright-to ng-binding">2017</span> RingCentral, Inc. All rights reserved.</span></div><div class="footer-content-row-right"><div class="footer-image-links"><div class="footer-image-link footer-image-link-facebook"><a target="_blank" href="http://www.facebook.com/ringcentral"><i class="fa icon-facebook"></i></a></div><div class="footer-image-link footer-image-link-twitter"><a target="_blank" href="http://twitter.com/ringcentraldevs"><i class="fa icon-twitter"></i></a></div><div class="footer-image-link footer-image-link-google-plus"><a target="_blank" href="https://www.google.com/+ringcentral"><i class="fa icon-google_plus"></i></a></div><div class="footer-image-link footer-image-link-linkedin"><a target="_blank" href="http://www.linkedin.com/company/ringcentral"><i class="fa icon-linkedin"></i></a></div><div class="footer-image-link footer-image-link-youtube"><a target="_blank" href="http://www.youtube.com/ringcentral"><i class="fa icon-youtube"></i></a></div></div></div></div></div></footer></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script><script src="ace/ace.js"></script><script src="ace/theme-monokai.js"></script><script src="//code.jquery.com/ui/1.12.1/jquery-ui.js"></script><script>window.tutorialName="Access RingCentral platform services using PHP native API.";</script><script src="viewsaurus.js"></script></body></html>